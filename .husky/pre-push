#!/bin/sh

# Get the branch being pushed
branch=$(git rev-parse --abbrev-ref HEAD)

# Only run build check when pushing to main
if [ "$branch" = "main" ]; then
  echo "ğŸ”¨ Running build before push to main..."
  bun run build
  
  if [ $? -ne 0 ]; then
    echo "âŒ Build failed. Push aborted."
    exit 1
  fi
  
  echo "âœ… Build successful. Proceeding with push."
fi
